let currentTextIndex = 0;
let i = 0;
const speed = 50; // Typing speed in ms
let isTyping = false;

const demo = document.getElementById("demo");
const startBtn = document.getElementById("start");
const choicesDiv = document.getElementById("choices");

const story = {
  0: {
    text: "Howdy! Dell, are you there?",
    speed: 100,
    bgColor: "black",
    textColor: "white",
    choices: [
      { text: "Yes", next: 1 },
      { text: "No", next: 2 },
    ],
  },
  1: {
    text: "I t ' s m e ,  y o u r . . . .",
    speed: 200,
    bgColor: "black",
    textColor: "white",
    choices: [{ text: "continue", next: 3 }],
  },
  2: {
    text: "NGAHHHHHHHHHHHHHHHHHHHHH You're really not here? T^T",
    speed: 20,
    bgColor: "antiquewhite",
    textColor: "black",
    choices: [
      { text: "Yes", next: 5 },
      { text: "lol im just kidding", next: 4 },
    ],
  },
  3: {
    text: "O w O ?",
    speed: 300,
    bgColor: "antiquewhite",
    textColor: "black",
    choices: [{ text: "huh?", next: 4 }],
  },
  4: {
    text: "55555555 ‡∏•‡πâ‡∏≠‡πÄ‡∏•‡πà‡∏ô‡∏à‡∏≤ üòÅ",
    speed: 30,
    bgColor: "antiquewhite",
    textColor: "black",
    choices: [{ text: "continue", next: 7 }],
  },
  5: {
    text: "If you're not Dell then WHO are you T^T",
    speed: 30,
    bgColor: "antiquewhite",
    textColor: "black",
    choices: [
      { text: "I wOn't Tell You", next: 6 },
      { text: "mY NaMe's TeMMie ", next: 6 },
    ],
  },
  6: {
    text: "Hmph! stop playing around! I can just force you to do this >:3",
    speed: 30,
    bgColor: "antiquewhite",
    textColor: "black",
    choices: [{ text: "Sorry, I'll listen to you now, sir. üòîüôè", next: 4 }],
  },
  7: {
    text: "Btw It's your birthday today owo ü´µ",
    speed: 40,
    bgColor: "antiquewhite",
    textColor: "black",
    choices: [{ text: "continue", next: 8 }],
  },
  8: {
    text: "Happy birthday ‡∏ô‡∏∞! ‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏õ‡∏µ‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏µ‡∏ó‡∏µ‡πà‡∏î‡∏µ ‡∏õ‡∏µ‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤‡πÄ‡∏î‡∏•‡πÄ‡∏Å‡πà‡∏á‡∏°‡∏≤‡∏Å ‡πÜ ‡πÄ‡∏•‡∏¢‡∏ô‡∏∞‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤‡πÑ‡∏î‡πâ‡∏≠‡∏µ‡∏Å‡∏õ‡∏µ‡πÅ‡∏•‡πâ‡∏ß üòÅ",
    speed: 40,
    bgColor: "antiquewhite",
    textColor: "black",
    choices: [{ text: "continue", next: 9 }],
  },
  9: {
    text: "owo",
    speed: 50,
    bgColor: "antiquewhite",
    textColor: "black",
    choices: [{ text: "continue", next: 10 }],
  },
  10: {
    text: "owo ?",
    speed: 50,
    bgColor: "antiquewhite",
    textColor: "black",
    choices: [{ text: "continue", next: 11 }],
  },
  11: {
    text: ";w;",
    speed: 50,
    bgColor: "black",
    textColor: "antiquewhite",
    choices: [{ text: "continue", next: 12 }],
  },
  12: {
    text: "‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏°‡∏≤‡∏ô‡∏±‡πà‡∏á‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏£‡∏≤‡∏°‡∏µ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡∏à‡∏∞‡∏ö‡∏≠‡∏Å‡πÄ‡∏î‡∏•‡∏°‡∏≤‡∏ï‡∏±‡πâ‡∏á‡∏ô‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡πÅ‡∏´‡∏•‡∏∞  üòÅ",
    speed: 40,
    bgColor: "DeepSkyBlue",
    textColor: "White",
    choices: [{ text: "continue", next: 13 }],
  },
  13: {
    text: "‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡∏à‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏á‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô ‡πÅ‡∏ï‡πà‡∏Å‡πá‡∏≠‡∏¢‡∏≤‡∏Å‡∏à‡∏∞‡πÉ‡∏´‡πâ‡∏£‡∏≠‡∏≠‡πà‡∏≤‡∏ô‡∏ï‡∏≠‡∏ô‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ô‡∏∞ ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡πÄ‡∏î‡∏•‡∏à‡∏∞‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏¢‡∏±‡∏á‡πÑ‡∏á‡∏Å‡∏±‡∏ö‡∏™‡∏¥‡πà‡∏á‡∏ô‡∏µ‡πâ",
    speed: 40,
    bgColor: "lightSkyBlue",
    textColor: "White",
    choices: [{ text: "continue", next: 14 }],
  },
  14: {
    text: "‡∏≠‡∏µ‡∏Å‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏ô‡∏∂‡∏á‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡∏Å‡πá‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡∏Å‡∏•‡πâ‡∏≤‡∏û‡∏≠‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÄ‡∏•‡πà‡∏≤‡∏ö‡∏≤‡∏á‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏•‡∏∞‡∏°‡∏±‡πâ‡∏á",
    speed: 40,
    bgColor: "LightSteelBlue",
    textColor: "White",
    choices: [{ text: "continue", next: 15 }],
  },
  15: {
    text: "‡πÄ‡∏£‡∏≤‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å‡∏Å‡∏±‡∏ö‡πÄ‡∏î‡∏•‡∏°‡∏≤‡∏ô‡∏≤‡∏ô‡∏°‡∏≤‡∏Å‡πÜ‡πÄ‡∏•‡∏¢‡∏ô‡∏∞ ‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡πÄ‡∏£‡∏≤‡∏≠‡∏¢‡∏π‡πà‡∏°.1-‡∏°.2",
    speed: 40,
    bgColor: "LightSteelBlue",
    textColor: "White",
    choices: [{ text: "continue", next: 16 }],
  },
  16: {
    text: "‡πÄ‡∏£‡∏≤‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Å‡∏±‡∏ô‡∏ï‡∏±‡πâ‡∏á‡∏´‡∏•‡∏≤‡∏¢‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‡∏ó‡∏±‡πâ‡∏á‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡∏±‡∏ô ‡πÅ‡∏•‡∏∞‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ü‡∏ô‡∏Å‡∏±‡∏ô",
    speed: 40,
    bgColor: "LightSlateGray",
    textColor: "White",
    choices: [{ text: "continue", next: 17 }],
  },
  17: {
    text: "‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô‡∏ß‡πà‡∏≤‡∏ï‡πâ‡∏ô‡πÄ‡∏´‡∏ï‡∏∏‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡∏ó‡∏±‡πâ‡∏á‡πÄ‡∏£‡∏≤‡πÅ‡∏•‡∏∞‡πÄ‡∏î‡∏• ‡∏≠‡∏µ‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏≠‡∏∑‡πà‡∏ô‡πÜ‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÑ‡∏î‡πâ",
    speed: 40,
    bgColor: "LightSlateGray",
    textColor: "White",
    choices: [{ text: "continue", next: 18 }],
  },
  18: {
    text: "‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ô‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏±‡∏ô ‡πÄ‡∏£‡∏≤‡∏Ñ‡∏¥‡∏î‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏≤‡∏Å‡∏±‡∏ö‡πÄ‡∏î‡∏•‡∏Ñ‡∏á‡πÑ‡∏õ‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ (‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÇ‡∏ó‡∏©‡πÄ‡∏î‡∏• ‡πÅ‡∏ï‡πà‡πÄ‡∏£‡∏≤‡πÅ‡∏Ñ‡πà‡∏Ñ‡∏¥‡∏î‡∏ß‡πà‡∏≤‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏´‡∏•‡∏≤‡∏¢‡πÜ‡∏≠‡∏¢‡πà‡∏≤‡∏á ‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏° ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á ‡πÅ‡∏•‡∏∞‡∏ô‡∏¥‡∏™‡∏±‡∏¢‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤)",
    speed: 40,
    bgColor: "SlateGray",
    textColor: "White",
    choices: [{ text: "continue", next: 19 }],
  },
  19: {
    text: "‡∏ï‡∏≠‡∏ô‡∏ô‡∏±‡πâ‡∏ô‡πÄ‡∏£‡∏≤‡πÄ‡∏™‡∏µ‡∏¢‡πÉ‡∏à‡∏°‡∏≤‡∏Å‡πÜ ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏´‡∏°‡∏î‡∏£‡∏±‡∏Å‡πÄ‡∏î‡∏• ‡πÅ‡∏ï‡πà‡πÄ‡∏£‡∏≤‡πÅ‡∏Ñ‡πà‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ï‡∏£‡∏á‡∏ô‡∏±‡πâ‡∏ô‡πÑ‡∏î‡πâ ‡πÅ‡∏•‡∏∞‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏´‡∏ô‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÅ‡∏ó‡∏ô ‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏≤‡πÄ‡∏™‡∏µ‡∏¢‡πÉ‡∏à‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏î‡∏•‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡πÉ‡∏à",
    speed: 40,
    bgColor: "SlateGray",
    textColor: "White",
    choices: [{ text: "continue", next: 20 }],
  },
  20: {
    text: "‡πÅ‡∏•‡∏∞‡∏î‡πâ‡∏ß‡∏¢‡∏à‡∏¥‡∏ï‡πÉ‡∏à‡πÄ‡∏£‡∏≤‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏±‡∏ö‡∏™‡∏ô‡πÅ‡∏•‡∏∞‡πÄ‡∏™‡∏µ‡∏¢‡πÉ‡∏à ‡πÄ‡∏£‡∏≤‡πÑ‡∏î‡πâ‡πÑ‡∏õ‡∏ä‡∏≠‡∏ö‡πÅ‡∏ü‡∏ô‡πÄ‡∏Å‡πà‡∏≤‡πÄ‡∏£‡∏≤ ‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏ß‡∏°‡∏≤‡∏Å ‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß 80% ‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡πÄ‡∏Ç‡∏≤‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡πÄ‡∏•‡∏¢",
    speed: 40,
    bgColor: "DarkSlateGray",
    textColor: "White",
    choices: [{ text: "continue", next: 21 }],
  },
  21: {
    text: "‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢‡∏Å‡πá‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏£‡∏≤ ‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏ù‡πà‡∏≤‡∏¢‡∏ö‡∏≠‡∏Å‡πÄ‡∏•‡∏¥‡∏Å ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡∏Ñ‡∏ö‡∏Å‡∏±‡∏ö‡πÄ‡∏Ç‡∏≤ ‡πÄ‡∏£‡∏≤‡πÅ‡∏ó‡∏ö‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏Ñ‡∏¥‡∏î‡∏≠‡∏∞‡πÑ‡∏£‡πÄ‡∏•‡∏¢ ‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å‡πÄ‡∏Ç‡∏≤‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢‡∏ã‡πâ‡∏≥ ‡∏°‡∏µ‡πÅ‡∏Ñ‡πà‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡πÉ‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏ö‡∏™‡∏ô ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò‡∏Ñ‡∏ô‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤",
    speed: 40,
    bgColor: "DarkSlateGray",
    textColor: "White",
    choices: [{ text: "continue", next: 22 }],
  },
  22: {
    text: "‡πÄ‡∏£‡∏≤‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡πÅ‡∏¢‡πà‡πÅ‡∏•‡∏∞‡πÄ‡∏Ñ‡∏ß‡πâ‡∏á‡∏Ñ‡∏ß‡πâ‡∏≤‡∏á‡πÑ‡∏õ‡∏´‡∏°‡∏î ‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏´‡πà‡∏ß‡∏¢‡πÜ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤ ‡∏ó‡∏µ‡πà‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡∏≠‡∏∞‡πÑ‡∏£‡πÅ‡∏¢‡πà‡πÜ‡πÑ‡∏õ‡∏´‡∏•‡∏≤‡∏¢‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡πÅ‡∏•‡∏∞‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏¢‡∏´‡∏ô ‡∏à‡∏ô‡πÄ‡∏Å‡∏¥‡∏î‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏°‡∏≤‡∏Å‡∏°‡∏≤‡∏¢‡∏Å‡∏±‡∏ö‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡πÄ‡∏£‡∏≤ ‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡∏°‡∏±‡∏ô‡∏à‡∏∞‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡πÑ‡∏á",
    speed: 40,
    bgColor: "Black",
    textColor: "White",
    choices: [{ text: "continue", next: 23 }],
  },
  23: {
    text: "‡∏ß‡∏±‡∏ô‡∏ô‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏à‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏Ñ‡∏≤‡∏ö‡∏¥‡∏Å‡∏≠‡∏ô‡∏ö‡∏ô‡πÄ‡∏ï‡∏µ‡∏¢‡∏á‡πÅ‡∏•‡πâ‡∏ß‡∏£‡πâ‡∏≠‡∏á‡πÑ‡∏´‡πâ ‡πÄ‡∏£‡∏≤‡∏ô‡∏∂‡∏Å‡∏ñ‡∏∂‡∏á‡πÄ‡∏î‡∏• ‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡∏ó‡∏±‡∏Å‡πÑ‡∏õ‡πÇ‡∏î‡∏¢‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏¢‡∏±‡πâ‡∏á‡∏Ñ‡∏¥‡∏î",
    speed: 40,
    bgColor: "Black",
    textColor: "White",
    choices: [{ text: "continue", next: 24 }],
  },
  24: {
    text: "‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏ó‡∏±‡∏Å‡πÑ‡∏õ ‡πÄ‡∏£‡∏≤‡∏Å‡∏•‡∏±‡∏ß‡∏°‡∏≤‡∏Å ‡πÄ‡∏£‡∏≤‡∏Å‡∏•‡∏±‡∏ß‡∏ß‡πà‡∏≤‡πÄ‡∏î‡∏•‡∏à‡∏∞‡πÄ‡∏Å‡∏•‡∏µ‡∏¢‡∏î‡πÄ‡∏£‡∏≤‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡πÅ‡∏¢‡πà‡πÜ‡∏Å‡∏±‡∏ö‡πÄ‡∏î‡∏•‡πÑ‡∏õ‡∏°‡∏≤‡∏Å‡∏°‡∏≤‡∏¢",
    speed: 40,
    bgColor: "Black",
    textColor: "White",
    choices: [{ text: "continue", next: 25 }],
  },
  25: {
    text: "‡πÄ‡∏î‡∏•‡∏ï‡∏≠‡∏ö‡πÄ‡∏£‡∏≤‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤ ‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡∏ó‡∏≥‡πÑ‡∏° ‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏≠‡∏∞‡πÑ‡∏£‡πÄ‡∏•‡∏¢ ‡πÅ‡∏ï‡πà‡πÄ‡∏£‡∏≤‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏™‡∏ö‡∏≤‡∏¢‡πÉ‡∏à‡∏°‡∏≤‡∏Å‡πÜ‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö‡πÄ‡∏î‡∏•‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á",
    speed: 40,
    bgColor: "DarkSlateGray",
    textColor: "White",
    choices: [{ text: "continue", next: 26 }],
  },
  26: {
    text: "‡∏ß‡∏±‡∏ô‡∏ô‡∏±‡πâ‡∏ô ‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏•‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏î‡∏•‡∏£‡∏±‡∏Å‡πÄ‡∏£‡∏≤ ‡πÄ‡∏£‡∏≤‡∏î‡∏µ‡πÉ‡∏à‡∏°‡∏≤‡∏Å‡πÜ ‡πÄ‡∏£‡∏≤‡∏î‡∏µ‡πÉ‡∏à‡∏°‡∏≤‡∏Å‡πÜ‡∏à‡∏ô‡∏£‡πâ‡∏≠‡∏á‡πÑ‡∏´‡πâ‡∏≠‡∏≠‡∏Å‡∏°‡∏≤ ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏ö‡∏≠‡∏∏‡πà‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡πÑ‡∏î‡πâ‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏´‡∏ô‡∏∂‡πà‡∏á",
    speed: 40,
    bgColor: "LightSlateGray",
    textColor: "White",
    choices: [{ text: "continue", next: 27 }],
  },
  27: {
    text: "‡πÅ‡∏ï‡πà‡∏à‡∏≤‡∏Å‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏û‡∏ö‡πÄ‡∏à‡∏≠ ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡πÄ‡∏Ñ‡∏¢‡πÑ‡∏î‡πâ‡∏Å‡∏£‡∏∞‡∏ó‡∏≥ ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏∞‡∏´‡∏ô‡∏±‡∏Å‡∏ñ‡∏∂‡∏á‡∏ô‡∏¥‡∏™‡∏±‡∏¢‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á ‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡πÑ‡∏î‡πâ‡∏î‡∏µ",
    speed: 40,
    bgColor: "LightSteelBlue",
    textColor: "White",
    choices: [{ text: "continue", next: 28 }],
  },
  28: {
    text: "‡πÄ‡∏£‡∏≤‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡∏ö‡∏≠‡∏Å‡πÄ‡∏î‡∏•‡πÑ‡∏õ‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏≤‡∏¢‡∏±‡∏á‡∏Ñ‡∏ö‡∏Å‡∏±‡∏ö‡πÄ‡∏î‡∏•‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ ‡πÄ‡∏£‡∏≤‡∏Ç‡∏≠‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡πÉ‡∏ä‡πâ‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏°‡∏´‡∏≤‡∏•‡∏±‡∏¢‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏∏‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ ‡πÅ‡∏•‡∏∞‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏ó‡∏≥‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÉ‡∏´‡πâ‡∏î‡∏µ‡πÅ‡∏•‡∏∞‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏Å‡πà‡∏≠‡∏ô",
    speed: 40,
    bgColor: "LightSteelBlue",
    textColor: "White",
    choices: [{ text: "continue", next: 29 }],
  },
  29: {
    text: "‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏î‡∏•‡πÄ‡∏™‡∏µ‡∏¢‡πÉ‡∏à‡∏≠‡∏µ‡∏Å‡πÅ‡∏•‡πâ‡∏ß",
    speed: 40,
    bgColor: "lightSkyBlue",
    textColor: "White",
    choices: [{ text: "continue", next: 30 }],
  },
  30: {
    text: "‡πÄ‡∏£‡∏≤‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏î‡∏•‡∏°‡∏≤‡∏Å‡πÜ‡πÄ‡∏•‡∏¢‡∏ô‡∏∞ ‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÄ‡∏£‡∏≤",
    speed: 40,
    bgColor: "SkyBlue",
    textColor: "White",
    choices: [{ text: "continue", next: 31 }],
  },
  31: {
    text: "‡∏ï‡∏•‡∏≠‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤ ‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡πÑ‡∏î‡πâ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö‡πÄ‡∏î‡∏• ‡πÄ‡∏£‡∏≤‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏î‡∏•‡∏°‡∏≤‡∏Å‡πÜ‡πÄ‡∏•‡∏¢‡∏ô‡∏∞",
    speed: 40,
    bgColor: "SkyBlue",
    textColor: "White",
    choices: [{ text: "continue", next: 32 }],
  },
  32: {
    text: "‡πÄ‡∏£‡∏≤‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡∏°‡∏≤‡∏Å‡πÜ‡πÄ‡∏•‡∏¢",
    speed: 50,
    bgColor: "SkyBlue",
    textColor: "White",
    choices: [{ text: "continue", next: 33 }],
  },
  33: {
    text: "‡πÄ‡∏£‡∏≤‡πÄ‡∏ù‡πâ‡∏≤‡∏£‡∏≠‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÑ‡∏î‡πâ‡πÄ‡∏à‡∏≠‡∏Å‡∏±‡∏ô‡∏ö‡πà‡∏≠‡∏¢‡πÜ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å‡∏Å‡∏±‡∏ô‡πÉ‡∏´‡πâ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏ô‡∏µ‡πâ ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏î‡∏•‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏ô‡∏µ‡πâ ‡πÅ‡∏•‡∏∞‡πÑ‡∏î‡πâ‡πÄ‡∏´‡πá‡∏ô‡∏£‡∏≠‡∏¢‡∏¢‡∏¥‡πâ‡∏°‡∏Ç‡∏≠‡∏á‡πÄ‡∏î‡∏•",
    speed: 30,
    bgColor: "SkyBlue",
    textColor: "White",
    choices: [{ text: "continue", next: 34 }],
  },
  34: {
    text: "‡∏ñ‡∏∂‡∏á‡∏à‡∏∞‡∏°‡∏µ‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏¢‡∏≤‡∏Å‡∏•‡∏≥‡∏ö‡∏≤‡∏Å‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ô‡∏µ‡πâ ‡πÄ‡∏£‡∏≤‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏ß‡∏•‡∏≤‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏•‡∏¢ ‡πÅ‡∏ï‡πà‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏™‡∏π‡πâ‡∏Å‡∏±‡∏ö‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏à‡∏≠ ‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏≤‡∏Å‡πá‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏à‡πÉ‡∏´‡πâ‡πÄ‡∏î‡∏•‡∏™‡∏π‡πâ‡∏Å‡∏±‡∏ö‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏à‡∏≠‡∏ô‡∏∞",
    speed: 30,
    bgColor: "SkyBlue",
    textColor: "White",
    choices: [{ text: "continue", next: 35 }],
  },
  35: {
    text: "‡∏™‡∏±‡∏Å‡∏ß‡∏±‡∏ô‡∏ô‡∏∂‡∏á‡πÄ‡∏£‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡πÑ‡∏õ‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÄ‡∏î‡∏• ‡∏´‡∏•‡∏≤‡∏¢‡πÜ‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏¢‡∏ô‡∏∞ ‡πÄ‡∏£‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡∏ô‡∏±‡πà‡∏á‡∏Å‡∏¥‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô ‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏™‡∏ß‡∏ô‡∏™‡∏±‡∏ï‡∏ß‡πå ‡∏™‡∏ß‡∏ô‡∏™‡∏ô‡∏∏‡∏Å ‡∏´‡∏£‡∏∑‡∏≠‡∏ó‡∏µ‡πà‡∏≠‡∏∑‡πà‡∏ô‡πÜ‡∏ó‡∏∏‡∏Å‡πÜ‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏¢",
    speed: 50,
    bgColor: "SkyBlue",
    textColor: "White",
    choices: [{ text: "continue", next: 36 }],
  },
  36: {
    text: "‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡πá‡∏≠‡∏µ‡∏Å‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡∏à‡∏∞‡∏ö‡∏≠‡∏Å‡πÄ‡∏î‡∏•",
    speed: 150,
    bgColor: "SkyBlue",
    textColor: "White",
    choices: [{ text: "continue", next: 37 }],
  },
  37: {
    text: "‡πÄ‡∏£‡∏≤‡∏£‡∏±‡∏Å‡πÄ‡∏î‡∏•‡∏ô‡∏∞ owo",
    speed: 100,
    bgColor: "SkyBlue",
    textColor: "White",
    choices: [{ text: "continue", next: 38 }],
  },
  38: {
    text: "‡∏™‡∏∏‡∏Ç‡∏™‡∏±‡∏ô‡∏ï‡πå‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î‡∏ô‡∏∞ ‡πÄ‡∏£‡∏≤‡∏†‡∏≤‡∏ß‡∏ô‡∏≤‡πÉ‡∏´‡πâ‡πÄ‡∏î‡∏•‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô‡πÄ‡∏•‡∏¢‡∏ô‡∏∞ owo",
    speed: 100,
    bgColor: "SkyBlue",
    textColor: "White",
    choices: [{ text: "continue", next: 39 }],
  },
  39: {
    text: "Thanks for always being here",
    speed: 100,
    bgColor: "SkyBlue",
    textColor: "White",
    choices: [],
  },
};

function typeWriter(text, typingSpeed, callback) {
  let i = 0;
  demo.innerHTML = "";
  isTyping = true; // Typing in progress
  disableChoices(true); // Disable choices during typing

  function type() {
    if (i < text.length) {
      demo.innerHTML += text.charAt(i);
      i++;
      setTimeout(type, typingSpeed);
    } else {
      isTyping = false; // Typing finished
      disableChoices(false); // Enable choices
      if (callback) callback();
    }
  }
  type();
}

function displayChoices(choices) {
  choicesDiv.innerHTML = "";

  choices.forEach((choice) => {
    const button = document.createElement("button");
    button.innerText = choice.text;
    button.onclick = () => {
      if (!isTyping) showNextText(choice.next); // Prevent click if typing
    };
    choicesDiv.appendChild(button);
  });
}

function disableChoices(disable) {
  choicesDiv.querySelectorAll("button").forEach((button) => {
    button.disabled = disable;
  });
}

function showNextText(index) {
  const storyNode = story[index];
  if (storyNode) {
    const { text, speed, bgColor, textColor, choices } = storyNode;
    const demo = document.getElementById("demo");
    const bg = document.getElementById("bg");

    bg.style.backgroundColor = bgColor;
    demo.style.color = textColor;

    typeWriter(text, speed, () => displayChoices(choices));
  }
}

function startGame() {
  startBtn.classList.add("hidden"); // Hide start button
  choicesDiv.classList.remove("hidden"); // Show choices
  showNextText(0); // Start at the beginning of the story
}
